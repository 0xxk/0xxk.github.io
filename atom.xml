<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>oxxk blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://0xxk.github.io/"/>
  <updated>2019-08-12T15:41:00.671Z</updated>
  <id>https://0xxk.github.io/</id>
  
  <author>
    <name>0xxk</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>新闻作业</title>
    <link href="https://0xxk.github.io/2019/08/12/%E6%96%B0%E9%97%BB%E7%95%8C%E9%9D%A28.10%E5%91%A8%E6%9C%AB%E4%BD%9C%E4%B8%9A/"/>
    <id>https://0xxk.github.io/2019/08/12/新闻界面8.10周末作业/</id>
    <published>2019-08-12T09:51:17.770Z</published>
    <updated>2019-08-12T15:41:00.671Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><p>结构:</p><p>basedir:存放上下界面</p><p>​                header.php 上</p><p>​                footer.php下</p><p>data:存放新闻用户信息</p><p>​                tupian 存放所有图片</p><p>​                xinwenwenjian存放所有新闻的信息</p><p>​                yonghuxinxiwenjian存放所有新闻文件</p><p>lib:存放功能界面</p><p>​                index.php 主页包含界面</p><p>​                login.php登陆界面</p><p>​                register.php注册前端</p><p>​                registerhoutai.php注册后端</p><p>​                shanchuxinwen.php 删除新闻前端</p><p>​                shanchuxinwenhouduan.php删除新闻后端</p><p>​                shanchuangtouxiang.php 上传头像前端</p><p>​                shanchuangtouxianghoutai.php上传头像后端</p><p>​                xinwenzhanshi.php新闻展示界面</p><p>​                xinwenzhanshimore.php新闻展示更多信息</p><p>​                xiugaimima.php 修改密码前端</p><p>​                xiugaimimamore.php 修改密码后端</p><p>​                yonghutuichu.php 用户退出后端</p><p>​                zengjiaxinwen.php 增加新闻前端</p><p>​                zengjiaxinwenhoutai.php增加新闻后端</p><h1 id="主页包含界面："><a href="#主页包含界面：" class="headerlink" title="主页包含界面："></a>主页包含界面：</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span><span class="keyword">Require_once</span> <span class="string">'../basedir/header.php'</span>;<span class="meta">?&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">&lt;?php</span><span class="keyword">Require_once</span> <span class="string">"xinwenzhanshi.php"</span>;<span class="meta">?&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">&lt;?php</span><span class="keyword">Require_once</span> <span class="string">'../basedir/footer.php'</span>;<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h1 id="登陆界面"><a href="#登陆界面" class="headerlink" title="登陆界面"></a>登陆界面</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Require_once</span> <span class="string">'../basedir/header.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">    &lt;!DOCTYPE html&gt;</span><br><span class="line">    &lt;html&gt;</span><br><span class="line">    &lt;head &gt; &lt;meta charset=<span class="string">"utf-8"</span>&gt;&lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div style=<span class="string">"width:100%;text-align:center"</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">    &lt;h1&gt;骚年输入的你的编号&lt;/h1&gt;</span><br><span class="line">    &lt;form action=<span class="string">"login.php"</span> method=<span class="string">"post"</span> &gt;</span><br><span class="line">        &lt;p&gt;&lt;input type=<span class="string">"text"</span> name=<span class="string">"name"</span> placeholder=<span class="string">"手机号/邮箱/用户名"</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;&lt;input type=<span class="string">"password"</span> name=<span class="string">"passwd"</span>&gt;&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;&lt;input class="input_code" type="text" name="verifycode" placeholder="验证码"&gt;&lt;/p&gt;</span><br><span class="line">        &lt;img class="verifycode" src="https://passport.360.cn/captcha.php?m=create&amp;app=i360&amp;scene=login&amp;userip=&amp;level=default&amp;sign=8820a4&amp;r=1564540365&amp;border=none&amp;_=1564540365972"&gt;</span><br><span class="line"></span><br><span class="line">        &lt;p&gt;&lt;input type=<span class="string">"submit"</span> name=<span class="string">"提交"</span>&gt;&lt;/p&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td align=<span class="string">"right"</span>&gt;</span><br><span class="line">                &lt;a href=<span class="string">"../lib/register.php"</span>&gt;&lt;button  align=<span class="string">"right"</span>&gt;用户注册&lt;/button&gt;&lt;/a&gt;</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">    &lt;/html&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Require_once</span> <span class="string">'../basedir/footer.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(E_ALL^E_NOTICE);</span><br><span class="line"></span><br><span class="line">$uname = base64_encode($_POST[<span class="string">'name'</span>]);</span><br><span class="line"></span><br><span class="line">$upass = md5($_POST[<span class="string">'passwd'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($uname &amp;&amp; $upass)&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    echo base64_decode($uname);</span></span><br><span class="line"></span><br><span class="line">    $f = fopen(<span class="string">'../data/yonghuxinxiwenjian/yh.db'</span>,<span class="string">'r'</span>);</span><br><span class="line">    <span class="keyword">while</span> (!feof($f))&#123;</span><br><span class="line">        $data = fgets($f);</span><br><span class="line">        $arr = explode(<span class="string">'|'</span>,$data);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(count($arr) !=<span class="number">4</span> )&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        echo base64_decode($arr[0]);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ($arr[<span class="number">0</span>] == $uname &amp;&amp; $arr[<span class="number">1</span>] == $upass)&#123;</span><br><span class="line"></span><br><span class="line">            $idd = base64_decode($arr[<span class="number">0</span>]);</span><br><span class="line">            session_start();</span><br><span class="line">            $_SESSION[<span class="string">'username'</span>]=$idd;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">echo</span> <span class="string">"&lt;script&gt;alert('登陆成功！将跳转到主页！');location.href='index.php';&lt;/script&gt;"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;script&gt;alert('用户名或者密码错误，请重新登录！');location.href='login.php';&lt;/script&gt;"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h1 id="注册功能"><a href="#注册功能" class="headerlink" title="注册功能"></a>注册功能</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">前端</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">Require_once &apos;../basedir/header.php&apos;;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;快来和我一起欢乐&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;div style=&quot;width:100%;text-align:center&quot;&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;form action=&quot;registerhoutai.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">    &lt;h3&gt;&lt;p&gt;用户名&lt;/p&gt;&lt;/h3&gt;</span><br><span class="line">    &lt;p&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;&lt;/p&gt;</span><br><span class="line">    &lt;h3&gt;&lt;p&gt;密码&lt;/p&gt;&lt;/h3&gt;</span><br><span class="line">    &lt;p&gt;&lt;input type=&quot;password&quot; name=&quot;passwd&quot;&gt;&lt;/p&gt;</span><br><span class="line">    &lt;h3&gt;&lt;p&gt;再次确认密码&lt;/p&gt;&lt;/h3&gt;</span><br><span class="line">    &lt;p&gt;&lt;input type=&quot;password&quot; name=&quot;passwd2&quot;&gt;&lt;/p&gt;</span><br><span class="line">    &lt;h3&gt;&lt;p&gt;输入你的邮箱&lt;/p&gt;&lt;/h3&gt;</span><br><span class="line">    &lt;p&gt;&lt;input type=&quot;text&quot; name=&quot;youxiang&quot;&gt;&lt;/p&gt;</span><br><span class="line">    &lt;h3&gt;&lt;p&gt;上传你的头像&lt;/p&gt;&lt;/h3&gt;</span><br><span class="line">    &lt;p&gt; &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;&lt;input type=&quot;submit&quot; name=&quot;提交&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">Require_once &apos;../basedir/footer.php&apos;;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>删除新闻功能</p><p>上传头像功能</p><h1 id="新闻展示界面："><a href="#新闻展示界面：" class="headerlink" title="新闻展示界面："></a>新闻展示界面：</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;style &gt;</span><br><span class="line">    .th&#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">"width:100%;text-align:center"</span>&gt;</span><br><span class="line">    &lt;h1&gt;新闻界面&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">session_start();</span><br><span class="line">error_reporting(E_ALL^E_NOTICE);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_SESSION[<span class="string">'username'</span>]))&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&lt;&lt;&lt;EOF</span></span><br><span class="line"><span class="string">        &lt;table align="center" width="600"&gt;</span></span><br><span class="line"><span class="string">        &lt;tr &gt;&lt;th id="sctx"&gt;&lt;a href="shangchuantouxiang.php"&gt;上传头像&lt;/a&gt;&lt;/th&gt;&lt;th id="zjxw"&gt;&lt;a href="zengjiaxinwen.php"&gt;增加新闻&lt;/a&gt;&lt;/th&gt;&lt;th id="scxw"&gt;&lt;a href="shanchuxinwen.php"&gt;删除新闻&lt;/th&gt;&lt;th id="xgmm"&gt;&lt;a href="xiugaimima.php"&gt;修改密码&lt;/th&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="string">        &lt;/table&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">EOF;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;table align=<span class="string">"center"</span> border=<span class="string">"1"</span> width=<span class="string">"1200"</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;th&gt; &lt;h2&gt;热度&lt;/h2&gt; &lt;/th&gt;</span><br><span class="line">        &lt;th&gt; &lt;h2&gt;标题&lt;/h2&gt; &lt;/th&gt;</span><br><span class="line">        &lt;th&gt; &lt;h2&gt;作者&lt;/h2&gt; &lt;/th&gt;</span><br><span class="line">        &lt;th&gt; &lt;h2&gt;时间&lt;/h2&gt; &lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">&lt;?php</span></span><br><span class="line">    $f = fopen(<span class="string">'../data/xinwenwenjian/new.db'</span>,<span class="string">'r'</span>);</span><br><span class="line">    <span class="keyword">while</span> (!feof($f))&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        $str = fgets($f);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        $shuzu = explode(<span class="string">"|"</span>,$str);</span><br><span class="line">        <span class="comment">//echo "长度为：".strlen($shuzu[0]);</span></span><br><span class="line">        <span class="keyword">if</span>(count($shuzu) !=<span class="number">6</span>)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $shuzu = explode(<span class="string">'|'</span>,$str);<span class="comment">//按照|进行分割</span></span><br><span class="line">        $redu = $shuzu[<span class="number">0</span>];</span><br><span class="line">        $biaoti = base64_decode($shuzu[<span class="number">1</span>]);</span><br><span class="line">        $zuozhe = base64_decode($shuzu[<span class="number">2</span>]);</span><br><span class="line">        $shijian = base64_decode($shuzu[<span class="number">3</span>]);</span><br><span class="line">        $tupian = base64_decode($shuzu[<span class="number">4</span>]);</span><br><span class="line">        $jianjie= mb_substr(base64_decode($shuzu[<span class="number">5</span>]),<span class="number">0</span>,<span class="number">150</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&lt;&lt;&lt;EOF</span></span><br><span class="line"><span class="string">            &lt;tr&gt;</span></span><br><span class="line"><span class="string">            &lt;td align="center"&gt;<span class="subst">&#123;$redu&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">            &lt;td align="center"&gt;<span class="subst">&#123;$biaoti&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">            &lt;td align="center"&gt;<span class="subst">&#123;$zuozhe&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">            &lt;td align="center"&gt;<span class="subst">&#123;$shijian&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">            &lt;/tr&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            &lt;tr&gt;</span></span><br><span class="line"><span class="string">            &lt;td align="center" height: 30px; width: 300px; text-align: center;&gt;</span></span><br><span class="line"><span class="string">            &lt;img height="150px" src=<span class="subst">&#123;$tupian&#125;</span> &gt;</span></span><br><span class="line"><span class="string">            &lt;/td&gt;</span></span><br><span class="line"><span class="string">            &lt;td colspan="3" align="center" colspan="3"&gt;&lt;a href="xinwenzhanshimore.php?action=<span class="subst">&#123;$biaoti&#125;</span>"&gt;<span class="subst">&#123;$jianjie&#125;</span>&lt;/a&gt; &lt;/td&gt;</span></span><br><span class="line"><span class="string">            &lt;/tr&gt;</span></span><br><span class="line"><span class="string">EOF;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;/table&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br><span class="line">后端</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> ($_POST[<span class="string">'passwd'</span>] != $_POST[<span class="string">'passwd2'</span>])&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;script&gt;alert('两次输入的密码不正确')&lt;/script&gt;"</span>;</span><br><span class="line">    <span class="keyword">die</span>();</span><br><span class="line">&#125;</span><br><span class="line">$f = fopen(<span class="string">"../data/yonghuxinxiwenjian/yh.db"</span>,<span class="string">"r"</span>);</span><br><span class="line"><span class="keyword">while</span>(!feof($f))&#123;</span><br><span class="line">    $zifuchuan = fgets($f);</span><br><span class="line">    $zifuchuan = explode(<span class="string">"|"</span>,$zifuchuan);</span><br><span class="line"><span class="comment">//        echo $_POST['name'];</span></span><br><span class="line"><span class="comment">//        echo base64_decode($zifuchuan[0]);</span></span><br><span class="line">    <span class="keyword">if</span>($_POST[<span class="string">'name'</span>] == base64_decode($zifuchuan[<span class="number">0</span>]))&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"&lt;script&gt;alert('此账号已被注册');location.href='register.php';&lt;/script&gt;"</span>;</span><br><span class="line">        <span class="keyword">die</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">$name = base64_encode($_POST[<span class="string">'name'</span>]);</span><br><span class="line">$passwd = md5($_POST[<span class="string">'passwd'</span>]);</span><br><span class="line">$youxiang = base64_encode($_POST[<span class="string">'youxiang'</span>]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$filename=  $_FILES[<span class="string">'file'</span>][<span class="string">'name'</span>];</span><br><span class="line"></span><br><span class="line">$filehouzui = explode(<span class="string">'.'</span>,$filename); <span class="comment">//根据.来分割</span></span><br><span class="line">$filezhenshiming = $_POST[<span class="string">'name'</span>].<span class="string">'.'</span>.$filehouzui[<span class="number">1</span>];<span class="comment">//将分割出来的后缀和.合并到一起</span></span><br><span class="line">$filebaocunlujing = <span class="string">"../data/yonghuxinxiwenjian/"</span>.$filezhenshiming;<span class="comment">//此处为保存路径</span></span><br><span class="line">move_uploaded_file($_FILES[<span class="string">'file'</span>][<span class="string">'tmp_name'</span>],$filebaocunlujing);</span><br><span class="line">$filebaocunlujing = base64_encode($filebaocunlujing);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$f = fopen(<span class="string">"../data/yonghuxinxiwenjian/yh.db"</span>,<span class="string">"a+"</span>);</span><br><span class="line">$shuju = <span class="string">"$name|$passwd|$youxiang|$filebaocunlujing"</span>.<span class="string">"\n"</span>;</span><br><span class="line">fwrite($f ,$shuju );</span><br><span class="line">fclose($f);</span><br><span class="line"></span><br><span class="line">session_start();</span><br><span class="line">$_SESSION[<span class="string">'username'</span>]=$_POST[<span class="string">'name'</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;script&gt;alert('恭喜你注册成功！即将跳转到主面！');location.href='index.php';&lt;/script&gt;"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h1 id="修改密码功能"><a href="#修改密码功能" class="headerlink" title="修改密码功能"></a>修改密码功能</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line">前端</span><br><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">error_reporting(E_ALL^E_NOTICE);</span><br><span class="line">if(!isset($_SESSION[&apos;username&apos;]))&#123;</span><br><span class="line">    echo &quot;&lt;script&gt;alert(&apos;请登录后查看！&apos;);location.href=&apos;login.php&apos;;&lt;/script&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">Require_once &apos;../basedir/header.php&apos;;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;div style=&quot;width:100%;text-align:center&quot;&gt;</span><br><span class="line">    &lt;h1&gt;修改密码&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if(isset($_SESSION[&apos;username&apos;]))&#123;</span><br><span class="line">    echo &lt;&lt;&lt;EOF</span><br><span class="line">        &lt;table align=&quot;center&quot; width=&quot;600&quot;&gt;</span><br><span class="line">         &lt;tr &gt;&lt;th id=&quot;sctx&quot;&gt;&lt;a href=&quot;shangchuantouxiang.php&quot;&gt;上传头像&lt;/a&gt;&lt;/th&gt;&lt;th id=&quot;xwjm&quot;&gt;&lt;a href=&quot;zengjiaxinwen.php&quot;&gt;增加新闻&lt;/th&gt;&lt;th id=&quot;scxw&quot;&gt;&lt;a href=&quot;shanchuxinwen.php&quot;&gt;删除新闻&lt;th id=&quot;xgmm&quot;&gt;&lt;a href=&quot;index.php&quot;&gt;新闻界面&lt;/th&gt;&lt;/tr&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line"></span><br><span class="line">EOF;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">&lt;div style=&quot;width:100%;text-align:center&quot;&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=&quot;xiugaimimahoutai.php&quot; method=&quot;post&quot; &gt;</span><br><span class="line">    &lt;h3&gt;&lt;p&gt;原密码&lt;/p&gt;&lt;/h3&gt;</span><br><span class="line">    &lt;p&gt;&lt;input type=&quot;password&quot; name=&quot;ypasswd&quot; &gt;&lt;/p&gt;</span><br><span class="line">    &lt;h3&gt;&lt;p&gt;修密码&lt;/p&gt;&lt;/h3&gt;</span><br><span class="line">    &lt;p&gt;&lt;input type=&quot;password&quot; name=&quot;tpasswd&quot; &gt;&lt;/p&gt;</span><br><span class="line">    &lt;h3&gt;&lt;p&gt;再次输入密码&lt;/p&gt;&lt;/h3&gt;</span><br><span class="line">    &lt;p&gt;&lt;input type=&quot;password&quot; name=&quot;tpasswd2&quot; &gt;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;&lt;input type=&quot;submit&quot; name=&quot;提交&quot;&gt;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;/form&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">Require_once &apos;../basedir/footer.php&apos;;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line">后端</span><br><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">error_reporting(E_ALL^E_NOTICE);</span><br><span class="line"></span><br><span class="line">$uname = base64_encode($_SESSION[&apos;username&apos;]);</span><br><span class="line"></span><br><span class="line">$upass = md5($_POST[&apos;ypasswd&apos;]);</span><br><span class="line"></span><br><span class="line">$q = 0;</span><br><span class="line"></span><br><span class="line">if ($uname &amp;&amp; $upass)&#123;</span><br><span class="line">//    echo base64_decode($uname);</span><br><span class="line">    $f = fopen(&apos;../data/yonghuxinxiwenjian/yh.db&apos;,&apos;r&apos;);</span><br><span class="line">    while (!feof($f))&#123;</span><br><span class="line">        $data = fgets($f);</span><br><span class="line">        $arr = explode(&apos;|&apos;,$data);</span><br><span class="line"></span><br><span class="line">        if(count($arr) !=4 )&#123;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">//        echo $arr[0];</span><br><span class="line">//        echo &apos;:&apos;;</span><br><span class="line">//        echo $uname;</span><br><span class="line">//        echo &apos;&lt;br&gt;&apos;;</span><br><span class="line">//        echo $arr[1];</span><br><span class="line">//        echo &apos;:&apos;;</span><br><span class="line">//        echo $upass;</span><br><span class="line">//        echo &apos;&lt;br&gt;&apos;;</span><br><span class="line">        if ($arr[0] == $uname &amp;&amp; $arr[1] == $upass)&#123;</span><br><span class="line">                $q = 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if($q == 0)&#123;</span><br><span class="line">        echo &quot;&lt;script&gt;alert(&apos;原密码错误！&apos;);location.href=&apos;xiugaimima.php&apos;;&lt;/script&gt;&quot;;</span><br><span class="line">        die();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = 0;</span><br><span class="line"></span><br><span class="line">if ($_POST[&apos;tpasswd&apos;] != $_POST[&apos;tpasswd2&apos;])&#123;</span><br><span class="line">    echo &quot;&lt;script&gt;alert(&apos;两次输入的密码不正确&apos;);location.href=&apos;xiugaimima.php&apos;;&lt;/script&gt;&quot;;</span><br><span class="line">    die();</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    $a=1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if($q &amp;&amp; $a)&#123;</span><br><span class="line"></span><br><span class="line">    $filePath = &apos;../data/yonghuxinxiwenjian/yh.db&apos;;</span><br><span class="line">    $target= md5($_POST[&apos;ypasswd&apos;]);</span><br><span class="line">    $result = null;</span><br><span class="line">    $fileCont = file_get_contents($filePath);</span><br><span class="line"></span><br><span class="line">    $target = base64_encode($_SESSION[&apos;username&apos;]).&apos;|&apos;.$target;</span><br><span class="line">//    echo $target;</span><br><span class="line">//    echo &apos;&lt;br&gt;&apos;;</span><br><span class="line">//    echo $fileCont;</span><br><span class="line">//    echo &apos;&lt;br&gt;&apos;;</span><br><span class="line">    $targetIndex = strpos($fileCont, $target); #查找目标字符串的坐标</span><br><span class="line">    echo $targetIndex;</span><br><span class="line">    if ($targetIndex !== false) &#123;</span><br><span class="line"></span><br><span class="line">        #找到target的前一个换行符</span><br><span class="line">        $preChLineIndex = strrpos(substr($fileCont, 0, $targetIndex+1), &quot;\n&quot;);</span><br><span class="line">        var_dump($preChLineIndex);</span><br><span class="line">//        var_dump($targetIndex);</span><br><span class="line">//        var_dump($preChLineIndex);</span><br><span class="line"></span><br><span class="line">        #找到target的后一个换行符</span><br><span class="line">        $AfterChLineIndex = strpos(substr($fileCont, $targetIndex), &quot;\n&quot;) + $targetIndex;</span><br><span class="line"></span><br><span class="line">        $tihuanhang = substr($fileCont,$preChLineIndex,$AfterChLineIndex);</span><br><span class="line"></span><br><span class="line">        $target2 =  base64_encode($_SESSION[&apos;username&apos;]).&apos;|&apos;.md5($_POST[&apos;tpasswd&apos;]);</span><br><span class="line">        var_dump($target2);</span><br><span class="line">        var_dump($target);</span><br><span class="line"></span><br><span class="line">        $tihuanhang =  str_replace($target,$target2,$tihuanhang);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        var_dump($tihuanhang);</span><br><span class="line">        var_dump($AfterChLineIndex);</span><br><span class="line">        if (($preChLineIndex !== false || $preChLineIndex == 0) &amp;&amp; $AfterChLineIndex !== false) &#123;</span><br><span class="line">            #重新写入删掉指定行后的内容</span><br><span class="line">            $result = substr($fileCont, 0, $preChLineIndex + 1) .$tihuanhang. substr($fileCont, $AfterChLineIndex + 1);</span><br><span class="line">            file_put_contents($filePath, $result);</span><br><span class="line">            $fp = fopen($filePath, &quot;w+&quot;);</span><br><span class="line">            fwrite($fp, $result);</span><br><span class="line">            fclose($fp);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        echo &quot;&lt;script&gt;alert(&apos;密码修改成功&apos;);location.href=&apos;xiugaimima.php&apos;;&lt;/script&gt;&quot;;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h1 id="用户退出功能"><a href="#用户退出功能" class="headerlink" title="用户退出功能"></a>用户退出功能</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">后端</span><br><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">error_reporting(E_ALL^E_NOTICE);</span><br><span class="line">unset($_SESSION[&apos;username&apos;]);</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;script&gt;alert(&apos;登出成功！将跳转到主页！&apos;);location.href=&apos;index.php&apos;;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h1 id="增加新闻功能"><a href="#增加新闻功能" class="headerlink" title="增加新闻功能"></a>增加新闻功能</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">前端</span><br><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">error_reporting(E_ALL^E_NOTICE);</span><br><span class="line">if(!isset($_SESSION[&apos;username&apos;]))&#123;</span><br><span class="line">    echo &quot;&lt;script&gt;alert(&apos;请登录后查看！&apos;);location.href=&apos;login.php&apos;;&lt;/script&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">    Require_once &apos;../basedir/header.php&apos;;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;div style=&quot;width:100%;text-align:center&quot;&gt;</span><br><span class="line">        &lt;h1&gt;增加新闻&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;?php</span><br><span class="line"></span><br><span class="line">    session_start();if(isset($_SESSION[&apos;username&apos;]))&#123;</span><br><span class="line">        echo &lt;&lt;&lt;EOF</span><br><span class="line">        </span><br><span class="line">    &lt;table align=&quot;center&quot; width=&quot;600&quot;&gt;</span><br><span class="line">        &lt;tr &gt;&lt;th id=&quot;sctx&quot;&gt;&lt;a href=&quot;shangchuantouxiang.php&quot;&gt;上传头像&lt;/a&gt;&lt;/th&gt;&lt;th id=&quot;xwjm&quot;&gt;&lt;a href=&quot;index.php&quot;&gt;新闻界面&lt;/th&gt;&lt;th id=&quot;scxw&quot;&gt;&lt;a href=&quot;shanchuxinwen.php&quot;&gt;删除新闻&lt;/th&gt;&lt;th id=&quot;xgmm&quot;&gt;&lt;a href=&quot;xiugaimima.php&quot;&gt;修改密码&lt;/th&gt;&lt;/tr&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line"></span><br><span class="line">EOF;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    ?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div style=&quot;width:100%;text-align:center&quot;&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;h3&gt;骚年请上传新闻&lt;/h3&gt;</span><br><span class="line">            &lt;form action=&quot;zengjiaxinwenhoutai.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">                &lt;h5&gt;&lt;p&gt;热度:&lt;br&gt;&lt;input type=&quot;text&quot; name=&quot;redu&quot; id=&quot;redu&quot; &gt;&lt;/p&gt;&lt;/h5&gt;</span><br><span class="line"></span><br><span class="line">                &lt;h5&gt;&lt;p&gt;标题:&lt;br&gt;&lt;input type=&quot;text&quot; name=&quot;biaoti&quot; id=&quot;biaoti&quot; &gt;&lt;/p&gt;&lt;/h5&gt;</span><br><span class="line"></span><br><span class="line">                &lt;p&gt;&lt;input type=&quot;file&quot; name=&quot;Filedata&quot; &gt;&lt;br&gt;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                &lt;h5&gt;&lt;p&gt;简介:&lt;br&gt;&lt;textarea name=&quot;jianjie&quot;  placeholder=&quot;输入新闻内容&quot;  rows=&quot;10&quot; cols=&quot;50&quot; &gt;&lt;/textarea&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;/h5&gt;</span><br><span class="line">                &lt;p&gt;&lt;input type=&quot;submit&quot; name=&quot;提交&quot;&gt;&lt;/p&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">    Require_once &apos;../basedir/footer.php&apos;;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line">后端</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">error_reporting(E_ALL^E_NOTICE);</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">$redu = $_POST[&quot;redu&quot;];</span><br><span class="line">$biaoti = base64_encode(htmlspecialchars($_POST[&quot;biaoti&quot;]));</span><br><span class="line">$zuozhe = base64_encode($_SESSION[&apos;username&apos;]);</span><br><span class="line"></span><br><span class="line">$time = time(); //时间戳</span><br><span class="line">$shijian = base64_encode(date( &apos;Y-m-d H:i:s&apos;, $time)); //生成带格式的日期</span><br><span class="line"></span><br><span class="line">//上传文件部分</span><br><span class="line">$name = explode(&apos;.&apos;,$_FILES[&apos;Filedata&apos;][&apos;name&apos;]); //取出上传文件的后缀</span><br><span class="line">var_dump($_FILES[&apos;Filedata&apos;][&apos;name&apos;]);</span><br><span class="line">$houzhui = &apos;.&apos;.end($name);//将后缀和.合起来，变成.xxx</span><br><span class="line"></span><br><span class="line">var_dump($houzhui);</span><br><span class="line"></span><br><span class="line">$wjm = $_SESSION[&apos;username&apos;].time().$houzhui;//生成一个文件名:登录名+时间戳+后缀</span><br><span class="line">$lujing = &quot;../data/xinwenwenjian/&quot;.$wjm; //将路径和文件名合并在一起。生成保存路径</span><br><span class="line">move_uploaded_file($_FILES[&apos;Filedata&apos;][&apos;tmp_name&apos;],$lujing);//将文件从临时文件转移到自己定义的路径中</span><br><span class="line">$lujing = base64_encode(&quot;&#123;$lujing&#125;&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$jianjie = base64_encode(htmlspecialchars($_POST[&quot;jianjie&quot;]));</span><br><span class="line"></span><br><span class="line">$qwe = &quot;$redu|$biaoti|$zuozhe|$shijian|$lujing|$jianjie&quot;.&quot;\n&quot;;</span><br><span class="line"></span><br><span class="line">$f = fopen(&quot;../data/xinwenwenjian/new.db&quot;,&quot;a+&quot;);</span><br><span class="line"></span><br><span class="line">fwrite($f,$qwe);</span><br><span class="line"></span><br><span class="line">echo &quot;&lt;script&gt;alert(&apos;新闻上传成功&apos;);location.href=&apos;zengjiaxinwen.php&apos;;&lt;/script&gt;&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>点击显示更多新闻</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Require_once</span> <span class="string">'../basedir/header.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$action = $_GET[<span class="string">'action'</span>];</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">"width:100%;text-align:center"</span>&gt;</span><br><span class="line">    &lt;h1&gt;新闻详情&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;table align=<span class="string">"center"</span> width=<span class="string">"600"</span>&gt;</span><br><span class="line">    &lt;tr &gt;&lt;th id=<span class="string">"xwjm"</span>&gt;&lt;a href=<span class="string">"index.php"</span>&gt;新闻界面&lt;/th&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$f = fopen(<span class="string">'../data/xinwenwenjian/new.db'</span>,<span class="string">'r'</span>);</span><br><span class="line"><span class="keyword">while</span> (!feof($f))&#123;</span><br><span class="line">    $str = fgets($f);</span><br><span class="line"></span><br><span class="line">    $shuzu = explode(<span class="string">"|"</span>,$str);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(count($shuzu) !=<span class="number">6</span>)&#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $shuzu = explode(<span class="string">'|'</span>,$str);<span class="comment">//按照|进行分割</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(trim(base64_decode($shuzu[<span class="number">1</span>])) == $action)&#123;</span><br><span class="line"></span><br><span class="line">        $biaoti = base64_decode($shuzu[<span class="number">1</span>]);</span><br><span class="line">        $jianjie= base64_decode($shuzu[<span class="number">5</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&lt;&lt;&lt;EOF</span></span><br><span class="line"><span class="string">    &lt;table align="center"&gt;</span></span><br><span class="line"><span class="string">            &lt;tr&gt;</span></span><br><span class="line"><span class="string">                &lt;td align="center"&gt;&lt;h2&gt;<span class="subst">&#123;$biaoti&#125;</span>&lt;/h2&gt;&lt;/td&gt;            </span></span><br><span class="line"><span class="string">                &lt;/tr&gt;</span></span><br><span class="line"><span class="string">                </span></span><br><span class="line"><span class="string">                &lt;tr&gt;            </span></span><br><span class="line"><span class="string">                &lt;td colspan="3" align="center" &gt;&lt;h3&gt;<span class="subst">&#123;$jianjie&#125;</span>&lt;/h3&gt; &lt;/td&gt;</span></span><br><span class="line"><span class="string">            &lt;/tr&gt;</span></span><br><span class="line"><span class="string">    &lt;/table&gt;</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">EOF;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Require_once</span> <span class="string">'../basedir/footer.php'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;

&lt;p&gt;结构:&lt;/p&gt;
&lt;p&gt;basedir:存放上下界面&lt;/p&gt;
&lt;p&gt;​                header.php 上&lt;/p&gt;
&lt;p&gt;​                footer.php下&lt;/p&gt;
&lt;p&gt;data:存放新闻用户信
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>8.12作业</title>
    <link href="https://0xxk.github.io/2019/08/12/8.12/"/>
    <id>https://0xxk.github.io/2019/08/12/8.12/</id>
    <published>2019-08-12T09:46:20.580Z</published>
    <updated>2019-08-12T15:20:29.773Z</updated>
    
    <content type="html"><![CDATA[<p>放在了ceshi数据库里</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">通过查找TABLES中数据库属于ceshi的表明，来找到对应的表名</span><br><span class="line">select * from information_schema.TABLES where TABLE_SCHEMA=&apos;ceshi&apos;;</span><br><span class="line"> select table_nAME from information_schema.TABLES where TABLE_SCHEMA=&apos;ceshi&apos;;</span><br><span class="line">+------------+</span><br><span class="line">| TABLE_NAME |</span><br><span class="line">+------------+</span><br><span class="line">| content    |</span><br><span class="line">| users      |</span><br><span class="line">+------------+</span><br></pre></td></tr></table></figure><p>通过查找columns中表属于content表的字段，来找到对应content表的字段名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from information_schema.COLUMNS where TABLE_NAME=&apos;content&apos;;</span><br><span class="line">+---------------+--------------+------------+-------------+------------------+----------------+-------------+-----------+--------------------------+------------------------+-------------------+---------------+--------------------+--------------------+-----------------+------------------+------------+----------------+---------------------------------+----------------+-----------------------+--------+</span><br><span class="line">| TABLE_CATALOG | TABLE_SCHEMA | TABLE_NAME | COLUMN_NAME | ORDINAL_POSITION | COLUMN_DEFAULT | IS_NULLABLE | DATA_TYPE | CHARACTER_MAXIMUM_LENGTH | CHARACTER_OCTET_LENGTH | NUMERIC_PRECISION | NUMERIC_SCALE | DATETIME_PRECISION | CHARACTER_SET_NAME | COLLATION_NAME  | COLUMN_TYPE      | COLUMN_KEY | EXTRA          | PRIVILEGES                      | COLUMN_COMMENT | GENERATION_EXPRESSION | SRS_ID |</span><br><span class="line">+---------------+--------------+------------+-------------+------------------+----------------+-------------+-----------+--------------------------+------------------------+-------------------+---------------+--------------------+--------------------+-----------------+------------------+------------+----------------+---------------------------------+----------------+-----------------------+--------+</span><br><span class="line">| def           | ceshi        | content    | id          |                1 | NULL           | NO          | int       |                     NULL |                   NULL |                10 |             0 |               NULL | NULL               | NULL            | int(10) unsigned | PRI        | auto_increment | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | ceshi        | content    | title       |                2 | NULL           | NO          | varchar   |                      100 |                    300 |              NULL |          NULL |               NULL | utf8               | utf8_general_ci | varchar(100)     |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | ceshi        | content    | author      |                3 | NULL           | NO          | varchar   |                       40 |                    120 |              NULL |          NULL |               NULL | utf8               | utf8_general_ci | varchar(40)      |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | ceshi        | content    | value       |                4 | NULL           | NO          | text      |                    65535 |                  65535 |              NULL |          NULL |               NULL | utf8               | utf8_general_ci | text             |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | ceshi        | content    | time        |                5 | NULL           | NO          | varchar   |                       40 |                    120 |              NULL |          NULL |               NULL | utf8               | utf8_general_ci | varchar(40)      |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | ceshi        | content    | ip          |                6 | NULL           | NO          | varchar   |                       40 |                    120 |              NULL |          NULL |               NULL | utf8               | utf8_general_ci | varchar(40)      |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">+---------------+--------------+------------+-------------+------------------+----------------+-------------+-----------+--------------------------+------------------------+-------------------+---------------+--------------------+--------------------+-----------------+------------------+------------+----------------+---------------------------------+----------------+-----------------------+--------+</span><br><span class="line">6 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>通过查找columns中表属于users表的字段，来找到对应users表的字段名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from information_schema.COLUMNS where TABLE_NAME=&apos;users&apos;;</span><br><span class="line">或将 * 换成column_name</span><br><span class="line">+---------------+--------------------+------------+---------------------+------------------+----------------+-------------+-----------+--------------------------+------------------------+-------------------+---------------+--------------------+--------------------+-----------------+------------------+------------+----------------+---------------------------------+----------------+-----------------------+--------+</span><br><span class="line">| TABLE_CATALOG | TABLE_SCHEMA       | TABLE_NAME | COLUMN_NAME         | ORDINAL_POSITION | COLUMN_DEFAULT | IS_NULLABLE | DATA_TYPE | CHARACTER_MAXIMUM_LENGTH | CHARACTER_OCTET_LENGTH | NUMERIC_PRECISION | NUMERIC_SCALE | DATETIME_PRECISION | CHARACTER_SET_NAME | COLLATION_NAME  | COLUMN_TYPE      | COLUMN_KEY | EXTRA          | PRIVILEGES                      | COLUMN_COMMENT | GENERATION_EXPRESSION | SRS_ID |</span><br><span class="line">+---------------+--------------------+------------+---------------------+------------------+----------------+-------------+-----------+--------------------------+------------------------+-------------------+---------------+--------------------+--------------------+-----------------+------------------+------------+----------------+---------------------------------+----------------+-----------------------+--------+</span><br><span class="line">| def           | ceshi              | users      | id                  |                1 | NULL           | NO          | int       |                     NULL |                   NULL |                10 |             0 |               NULL | NULL               | NULL            | int(10) unsigned | PRI        | auto_increment | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | ceshi              | users      | username            |                2 | NULL           | NO          | varchar   |                       20 |                     60 |              NULL |          NULL |               NULL | utf8               | utf8_general_ci | varchar(20)      | UNI        |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | ceshi              | users      | passwd              |                3 | NULL           | NO          | varchar   |                      100 |                    300 |              NULL |          NULL |               NULL | utf8               | utf8_general_ci | varchar(100)     |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | ceshi              | users      | user_ip             |                4 | NULL           | NO          | varchar   |                       20 |                     60 |              NULL |          NULL |               NULL | utf8               | utf8_general_ci | varchar(20)      |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | ceshi              | users      | join_date           |                5 | NULL           | NO          | varchar   |                       40 |                    120 |              NULL |          NULL |               NULL | utf8               | utf8_general_ci | varchar(40)      |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | performance_schema | users      | USER                |                1 | NULL           | YES         | char      |                       32 |                    128 |              NULL |          NULL |               NULL | utf8mb4            | utf8mb4_bin     | char(32)         | UNI        |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | performance_schema | users      | CURRENT_CONNECTIONS |                2 | NULL           | NO          | bigint    |                     NULL |                   NULL |                19 |             0 |               NULL | NULL               | NULL            | bigint(20)       |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">| def           | performance_schema | users      | TOTAL_CONNECTIONS   |                3 | NULL           | NO          | bigint    |                     NULL |                   NULL |                19 |             0 |               NULL | NULL               | NULL            | bigint(20)       |            |                | select,insert,update,references |                |                       |   NULL |</span><br><span class="line">+---------------+--------------------+------------+---------------------+------------------+----------------+-------------+-----------+--------------------------+------------------------+-------------------+---------------+--------------------+--------------------+-----------------+------------------+------------+----------------+---------------------------------+----------------+-----------------------+--------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>在这里总结出content表和users表分别拥有的字段</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">content: id title author value time ip</span><br><span class="line">users: id username passwd user_ip join_date</span><br></pre></td></tr></table></figure><p>最后依次通过查询各表中的字段来读取数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select id from ceshi.content ;</span><br><span class="line">+----+</span><br><span class="line">| id |</span><br><span class="line">+----+</span><br><span class="line">|  1 |</span><br><span class="line">|  2 |</span><br><span class="line">|  3 |</span><br><span class="line">|  4 |</span><br><span class="line">|  5 |</span><br><span class="line">|  6 |</span><br><span class="line">|  7 |</span><br><span class="line">|  8 |</span><br><span class="line">|  9 |</span><br><span class="line">| 10 |</span><br><span class="line">| 11 |</span><br><span class="line">| 12 |</span><br><span class="line">| 13 |</span><br><span class="line">| 14 |</span><br><span class="line">| 15 |</span><br><span class="line">| 16 |</span><br><span class="line">| 17 |</span><br><span class="line">| 18 |</span><br><span class="line">| 19 |</span><br><span class="line">| 20 |</span><br><span class="line">+----+</span><br><span class="line"></span><br><span class="line">mysql&gt; select title from ceshi.content ;</span><br><span class="line">+------------+</span><br><span class="line">| title      |</span><br><span class="line">+------------+</span><br><span class="line">| mmmn       |</span><br><span class="line">| zzzzsadfas |</span><br><span class="line">| asfwefas   |</span><br><span class="line">| qqq        |</span><br><span class="line">| qqq        |</span><br><span class="line">| asdfas     |</span><br><span class="line">| zzzsafd    |</span><br><span class="line">| wqeras     |</span><br><span class="line">| asfasdf    |</span><br><span class="line">| poikj      |</span><br><span class="line">| efadsfa    |</span><br><span class="line">|            |</span><br><span class="line">| pdo        |</span><br><span class="line">| testtitle  |</span><br><span class="line">| sad        |</span><br><span class="line">| 16161616   |</span><br><span class="line">| 17         |</span><br><span class="line">| adasf      |</span><br><span class="line">| awawaw     |</span><br><span class="line">| sdaf       |</span><br><span class="line">+------------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select author from ceshi.content ;</span><br><span class="line">+------------+</span><br><span class="line">| author     |</span><br><span class="line">+------------+</span><br><span class="line">| nbnbn      |</span><br><span class="line">| fasdfwf    |</span><br><span class="line">| adsfasf    |</span><br><span class="line">| aaa        |</span><br><span class="line">| aaa        |</span><br><span class="line">| dasfaa     |</span><br><span class="line">| sadfasdf   |</span><br><span class="line">| asdf       |</span><br><span class="line">| asdfas     |</span><br><span class="line">| htjg       |</span><br><span class="line">| asdfasfd   |</span><br><span class="line">|            |</span><br><span class="line">| sdasd      |</span><br><span class="line">| sdfa       |</span><br><span class="line">| dsda       |</span><br><span class="line">| 1616161616 |</span><br><span class="line">| 17         |</span><br><span class="line">| asfasdf    |</span><br><span class="line">| sdafasf    |</span><br><span class="line">| asdfasfd   |</span><br><span class="line">+------------+</span><br><span class="line">20 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select id from ceshi.users ;</span><br><span class="line">+----+</span><br><span class="line">| id |</span><br><span class="line">+----+</span><br><span class="line">|  1 |</span><br><span class="line">|  8 |</span><br><span class="line">|  9 |</span><br><span class="line">| 10 |</span><br><span class="line">+----+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select username from ceshi.users ;</span><br><span class="line">+----------+</span><br><span class="line">| username |</span><br><span class="line">+----------+</span><br><span class="line">| admin    |</span><br><span class="line">| booom    |</span><br><span class="line">| sadfasdf |</span><br><span class="line">| zfzv     |</span><br><span class="line">+----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select passwd from ceshi.users;</span><br><span class="line">+----------------------------------+</span><br><span class="line">| passwd                           |</span><br><span class="line">+----------------------------------+</span><br><span class="line">| e10adc3949ba59abbe56e057f20f883e |</span><br><span class="line">| 156756811d9c56c11ebccdef355bf4e0 |</span><br><span class="line">| a6be11c879133def33fdb767be80056f |</span><br><span class="line">| f95adbce0a51589cb6e87112eb6becd4 |</span><br><span class="line">+----------------------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>依此类推</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;放在了ceshi数据库里&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>DOM与BOM的异同</title>
    <link href="https://0xxk.github.io/2019/08/11/DOM%E5%92%8CBOM/"/>
    <id>https://0xxk.github.io/2019/08/11/DOM和BOM/</id>
    <published>2019-08-11T14:49:49.784Z</published>
    <updated>2019-08-01T16:03:45.509Z</updated>
    
    <content type="html"><![CDATA[<p>​    DOM操作页面，BOM操作浏览器。听到这句话时，我感觉自己的基础不是很扎实。脑海里复现的问题竟然是DOM是什么？BOM是什么？</p><a id="more"></a><p>  为什么COM能操作页面？为什么BOM能操作浏览器？他们之间有什么共同点？有什么不同点呢？既然问题出来了，那我们就一一百度解决！</p><h1 id="DOM是什么？"><a href="#DOM是什么？" class="headerlink" title="DOM是什么？"></a>DOM是什么？</h1><p>​     DOM全称Document Object Model，即文档对象模型。我理解的DOM是一个接口，它接在HTML代码中。就像document.getElementById(‘xxx’)一样，它把Id为“myBtn”的节点“引用”到了这里。就相当于API接口，这样用脚本（JS）控制Web界面就很方便。（观点浅薄，请自行深入）</p><h1 id="BOM是什么？"><a href="#BOM是什么？" class="headerlink" title="BOM是什么？"></a>BOM是什么？</h1><p>​      BOM全称Browser Object Model，即浏览器对象模型。它也是接口，它的口接在全局对象中。也就是可以网页中，我们可以通过BOM接口加上一些动作来对浏览器进行控制。</p><h1 id="为什么COM能操作页面？为什么BOM能操作浏览器？"><a href="#为什么COM能操作页面？为什么BOM能操作浏览器？" class="headerlink" title="为什么COM能操作页面？为什么BOM能操作浏览器？"></a>为什么COM能操作页面？为什么BOM能操作浏览器？</h1><p>​      因为它们都是各自对象模型的接口（分别对应：文档对象模型，浏览器对象模型）。就像一个是手机的屏幕，一个是汽车的方向盘。都能都过对应的那一个点去操控各自的模型。</p><h1 id="他们之间有什么共同点？有什么不同点呢？"><a href="#他们之间有什么共同点？有什么不同点呢？" class="headerlink" title="他们之间有什么共同点？有什么不同点呢？"></a>他们之间有什么共同点？有什么不同点呢？</h1><h2 id="浅谈"><a href="#浅谈" class="headerlink" title="浅谈"></a>浅谈</h2><ul><li><p>不同点：各自操作不同的模型。</p></li><li><p>相同点：你中有我，我中有你。</p></li></ul><h2 id="深论"><a href="#深论" class="headerlink" title="深论"></a>深论</h2><p>  <strong>javascript由三部分组成：ECMAScript,DOM,BOM组成。</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DOM是W3C的标准；[所有浏览器公共遵守的标准]</span><br><span class="line">BOM是各个浏览器厂商根据DOM在各自浏览器上的实现;[表现为不同浏览器定义有差别，实现方式不同]</span><br><span class="line">window是BOM对象，而非js对象。</span><br></pre></td></tr></table></figure><p>​      <u>DOM（文档对象模型）是HTML和XML的应用程序接口（API）</u>。<br>​      <u>BOM主要处理浏览器窗口和框架，不过通常浏览器特定的JavaScript扩展都被看做BOM的一部分</u>。这些扩展包括：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">弹出新的浏览器窗口</span><br><span class="line">移动、关闭浏览器窗口以及调整窗口大小</span><br><span class="line">提供web浏览器详细信息的定位对象</span><br><span class="line">提供用户品目分辨率详细信息的屏幕对象</span><br><span class="line">对cookie的支持</span><br><span class="line">IE扩展了BOM，加入了ActiveXObject类，可以通过JavaScript实例化Activex对象</span><br></pre></td></tr></table></figure><p>​    javascript是通过访问BOM对象来访问、控制、修改客户端（浏览器），由于BOM的window包含了document,window对象的属性和方法是直接可以使用而且被感知的，因此可以直接使用winodw对象的document属性。</p><p>​    通过document属性就可以访问、检索、修改XHTML文档内容与结构。因为document对象又是DOM模型的根节点。可以说，BOM包含了DOM(对象)，浏览器提供出来给予访问的是BOM对象，从BOM对象再访问到DOM对象，从而js可以操作浏览器以及浏览器读取到的文档。其中DOM包含:window</p><h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><ul><li>window对象包含属性：document、location、navigater、screen、history、frames。</li></ul><ul><li><p>Document根节点包含子节点：forms、location、anchors、images、links</p><p>从window.document已然可以看出，DOM最根本的对象是BOM window对象的子对象。</p><p>参考链接：<a href="https://blog.csdn.net/xiao_tommy/article/details/53231165" target="_blank" rel="noopener">https://blog.csdn.net/xiao_tommy/article/details/53231165</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;​    DOM操作页面，BOM操作浏览器。听到这句话时，我感觉自己的基础不是很扎实。脑海里复现的问题竟然是DOM是什么？BOM是什么？&lt;/p&gt;
    
    </summary>
    
      <category term="编程" scheme="https://0xxk.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>CSRF JQ POST提交</title>
    <link href="https://0xxk.github.io/2019/08/11/CSRF%20JQ%20POST%E6%8F%90%E4%BA%A4/"/>
    <id>https://0xxk.github.io/2019/08/11/CSRF JQ POST提交/</id>
    <published>2019-08-11T14:49:49.780Z</published>
    <updated>2019-08-04T16:23:40.719Z</updated>
    
    <content type="html"><![CDATA[<p>​      在温习完前端后，继续学习了JS JQ。在讲JQ时，讲师用JQ本地复现了一遍CSRF。因为我对CSRF的理解一直处于概念上，所以就此机会将JQ复现代码学习理解一遍！</p><a id="more"></a><p>某小游戏网csrf POST更改账户信息。代码具体如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>jquery<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://libs.baidu.com/jquery/2.0.0/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">      type: 'POST',</span><br><span class="line">      url:'http://www.xxxx.com/xxxapi/user/info',</span><br><span class="line">      dataType: 'json',</span><br><span class="line">      data: &#123;</span><br><span class="line">        "headimg":"/static/usericon/userphoto20.png",</span><br><span class="line">"user_tag":[],</span><br><span class="line">"allow_status":"1",</span><br><span class="line">"nickname":"Leafer",</span><br><span class="line">"real_name":"",</span><br><span class="line">"id_number":""&#125;,</span><br><span class="line">      xhrFields: &#123;</span><br><span class="line">          withCredentials:true  //支持附带详细信息,可以携带cookie</span><br><span class="line">      &#125;,</span><br><span class="line">      crossDomain: true,//请求偏向外域,支持跨域请求</span><br><span class="line">      success: function (data) &#123;</span><br><span class="line">          console.log(data);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本例 type为’POST’。type默认值为”GET”，可选”GET”或”POST”。</p><p>url为发送请求的地址。</p><p>dataType为传递的数据类型。本处为”JSON”。可用值如下：</p><p><u>“xml”:返回XML文档；</u></p><p><u>“html”:返回纯文本HTML信息；</u></p><p><u>“script”:返回纯文本JavaScript代码。</u></p><p><u>“json”:返回JSON数据</u></p><p><u>“jsconp”:JSONP格式</u></p><p><u>“text”:返回纯文本字符串。</u></p><p>xhrFields: {withCredentials:true}支持附带详细信息,携带cookie</p><p>crossDomain:ture 请求偏向外语，支持跨域请求</p><p>success: function (data) {console.log(data);}请求成功后在控制台输出data数据。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/08/3babf9af39fab821.jpg" alt title>                </div>                <div class="image-caption"></div>            </figure><p>访问页面后</p><p>参数为：<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/08/4f115aebee812020.jpg" alt title>                </div>                <div class="image-caption"></div>            </figure></p><p>响应值为：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/08/a50e9df7272892e2.jpg" alt title>                </div>                <div class="image-caption"></div>            </figure><p>再去查看自己的昵称</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/08/0e32c5dcff04e351.jpg" alt title>                </div>                <div class="image-caption"></div>            </figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;​      在温习完前端后，继续学习了JS JQ。在讲JQ时，讲师用JQ本地复现了一遍CSRF。因为我对CSRF的理解一直处于概念上，所以就此机会将JQ复现代码学习理解一遍！&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>作业</title>
    <link href="https://0xxk.github.io/2019/08/11/%E4%BD%9C%E4%B8%9A/"/>
    <id>https://0xxk.github.io/2019/08/11/作业/</id>
    <published>2019-08-11T14:49:49.777Z</published>
    <updated>2019-08-11T12:30:58.494Z</updated>
    
    <content type="html"><![CDATA[<p>这是一份作业</p><a id="more"></a><p>素数</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>($l=<span class="number">2</span>;$l&lt;<span class="number">100</span>;$l++)&#123;</span><br><span class="line">    $M = $l;</span><br><span class="line">    $f=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>($i=<span class="number">2</span>;$i&lt;$M;$i++)</span><br><span class="line">        <span class="keyword">if</span>($M % $i == <span class="number">0</span>)&#123;</span><br><span class="line">            $f = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span> ($f==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">echo</span> $M.<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>五角星</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &quot;\n\n&quot;;</span><br><span class="line">for ( $i1 = 1; $i1 &lt; 6; $i1++ )                    /*这是五角星的上面一个角*/</span><br><span class="line">&#123;</span><br><span class="line">    for ( $j1 = 1; $j1 &lt; 19 - $i1; $j1++ )</span><br><span class="line">        printf( &quot; &quot; );</span><br><span class="line">    for ( $k1 = 1; $k1 &lt;= 2 * $i1 - 1; $k1++ )</span><br><span class="line">        printf( &quot;*&quot; );</span><br><span class="line">    printf( &quot;\n&quot; );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for ($i2 = 1; $i2 &lt; 5; $i2++ )                    /*这是五角星的中间两个角*/</span><br><span class="line">&#123;</span><br><span class="line">    for ( $j2 = 1; $j2 &lt; 3 * $i2 - 3; $j2++ )</span><br><span class="line">        printf( &quot; &quot; );</span><br><span class="line">    for ( $k2 = 1; $k2 &lt;= 42 - 6 * $i2; $k2++ )</span><br><span class="line">        printf( &quot;*&quot; );</span><br><span class="line">    printf( &quot;\n&quot; );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for ( $i3 = 1; $i3 &lt; 3; $i3++ ) /*这是中间与下部相接的部分*/</span><br><span class="line">&#123;</span><br><span class="line">    for ( $j3 = 1; $j3 &lt; 12 - $i3; $j3++ )</span><br><span class="line">        printf( &quot; &quot; );</span><br><span class="line">    for ( $k3 = 1; $k3 &lt;= 12 + 2 * $i3; $k3++ )</span><br><span class="line">        printf( &quot;*&quot; );</span><br><span class="line">    printf( &quot;\n&quot; );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for ( $i4 = 1; $i4 &lt; 5; $i4++ ) /*这是五角星的下面两个角*/</span><br><span class="line">&#123;</span><br><span class="line">    for ( $j4 = 1; $j4 &lt; 10 - $i4; $j4++ )</span><br><span class="line">        printf( &quot; &quot; );</span><br><span class="line">    for ( $k4 = 1; $k4 &lt;= 10 - 2 * $i4; $k4++ )</span><br><span class="line">        printf( &quot;*&quot; );</span><br><span class="line">    for ( $m4 = 1; $m4 &lt; 6 * $i4 - 3; $m4++ )</span><br><span class="line">        printf( &quot; &quot; );</span><br><span class="line">    for ( $n4 = 1; $n4 &lt;= 10 - 2 * $i4; $n4++ )</span><br><span class="line">        printf( &quot;*&quot; );</span><br><span class="line">    printf( &quot;\n&quot; );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>循环输出关联数组</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$shuzu = array</span><br><span class="line">(    &apos;xm&apos; =&gt; &apos;zhiwei&apos;,    &apos;ming&apos; =&gt; &apos;zhiwei&apos;,    &apos;aaa&apos; =&gt; &apos;6666&apos;);$jian = array_keys($shuzu);</span><br><span class="line">echo $jian[1];for($i=0;$i&lt;count($jian);$i++)</span><br><span class="line">&#123;    echo $jian[$i].&quot;\n&quot;;&#125;?&gt;</span><br></pre></td></tr></table></figure><p>新闻界面</p><p>显示界面</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&lt;!--先输出每列标题--&gt;</span><br><span class="line">&lt;!--再打开txt--&gt;</span><br><span class="line">&lt;!--读取出数据后，使用函数进行分割。--&gt;</span><br><span class="line">&lt;!--将分割完的存入数组--&gt;</span><br><span class="line">&lt;!--再将数组中的数据，按照格式每行输出。--&gt;</span><br><span class="line">&lt;!--列标题： 热度  标题   作者  发表时间  操作--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">    &lt;title&gt;&lt;?php echo &apos;ICQ新闻震撼部&apos;;?&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body background=&quot;tupian/bg.jpg&quot;&gt;</span><br><span class="line">&lt;center&gt;&lt;?php echo &quot;ICQ新闻震撼部&quot;;?&gt;&lt;/center&gt;</span><br><span class="line">----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">&lt;table&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;th&gt;&lt;button&gt;&lt;?php echo &quot;热度✍&quot;; ?&gt;&lt;/button&gt;&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;&lt;?php echo &quot;标题&quot;; ?&gt;&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;&lt;?php echo &quot;作者&quot;; ?&gt;&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;&lt;?php echo &quot;发表时间&quot;; ?&gt;&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;&lt;?php echo &quot;操作&quot;; ?&gt;&lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;?php</span><br><span class="line">    $f = fopen(&quot;news.db&quot;,&quot;r&quot;);</span><br><span class="line">    $i=0;</span><br><span class="line">    while(!feof($f))&#123;</span><br><span class="line">        $hang = fgets($f);</span><br><span class="line">        $shuzu = explode(&quot;|&quot;,$hang);</span><br><span class="line"></span><br><span class="line">        $redu = base64_decode($shuzu[0]);</span><br><span class="line">        $biaoti = base64_decode($shuzu[1]);</span><br><span class="line">        $zuozhe = base64_decode($shuzu[2]);</span><br><span class="line">        $fashijian = base64_decode($shuzu[3]);</span><br><span class="line">        $caozuo = base64_decode($shuzu[4]);</span><br><span class="line">        $tupian = base64_decode($shuzu[5]);</span><br><span class="line">        $jianjie = substr(base64_decode($shuzu[6]),&quot;0&quot;,&quot;400&quot;);</span><br><span class="line">       echo  &lt;&lt;&lt;EOF</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td align=&quot;center&quot;&gt;$redu&lt;/td&gt;</span><br><span class="line">        &lt;td align=&quot;center&quot;&gt;$biaoti&lt;/td&gt;</span><br><span class="line">        &lt;td align=&quot;center&quot;&gt;$zuozhe&lt;/td&gt;</span><br><span class="line">        &lt;td align=&quot;center&quot;&gt;$fashijian&lt;/td&gt;</span><br><span class="line">        &lt;td align=&quot;center&quot;&gt;$caozuo&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">EOF;</span><br><span class="line">       if($i&lt;3)&#123;</span><br><span class="line">           echo &lt;&lt;&lt;EOF</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;$tupian&lt;/td&gt;</span><br><span class="line">        &lt;td colspan=&quot;4&quot;&gt;$jianjie&lt;/tr&gt;</span><br><span class="line">EOF;</span><br><span class="line">           $i++;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/table&gt;</span><br><span class="line">----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">&lt;center&gt;版权所有  ICQ&lt;/center&gt;</span><br><span class="line">&lt;center&gt;©2019 ICQ 意见反馈 京ICP证030173号  京公网安备11000002000001号 &lt;/center&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>上传前端</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"jieshou.php"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">accept-charset</span>=<span class="string">"utf-8"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">        　　<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"lsUpfindBtn"</span>&gt;</span>上传图片 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"file"</span> /&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"点击上传"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上传后端</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$file = request()-&gt;file(&apos;file&apos;);</span><br><span class="line">$info = $file-&gt;move(ROOT_PATH.&apos;F:\Project\PHP\test\news_file\tupian&apos;);//图片保存路径 //储存到数据库</span><br><span class="line">if(!$info)&#123;</span><br><span class="line">    $this-&gt;error(&apos;图片上传失败&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是一份作业&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>phpMyAdmin4.8文件包含漏洞</title>
    <link href="https://0xxk.github.io/2019/08/11/test/"/>
    <id>https://0xxk.github.io/2019/08/11/test/</id>
    <published>2019-08-11T14:49:49.771Z</published>
    <updated>2019-07-28T08:57:33.796Z</updated>
    
    <content type="html"><![CDATA[<p>  首先来说下文件包含是什么，粗俗的讲就是本网页包含其他源代码来执行。此处本意正如编程中的函数调用，重复的代码大可不写。合理调用利用重复代码才是王道。</p><a id="more"></a><p>那么文件包含漏洞是什么呢？文件包含不该是正常网站的一个功能吗？用尘哥的话说就是xx程序员多了，就有了漏洞，就有了安全这行业。本来应该包含正确代码到文件中去执行的，但是在包含这个地方没有做好过滤。导致我们能让网站随我们心意“任意”执行我们想要做的“事情”。</p><p>  在phpMyadmin4.0 4.1中就有这么一处包含的位置过滤不严导致可控。我们通过文件包含去调用我们“上传”到网站上的恶意代码，如：一句话木马。只要将其包含就可以“执行”。<br>让我们先来认识下PHP中文件包含的函数：</p><p>  include()</p><p>使用此函数，只有代码执行到此函数时才将文件包含进来，发生错误时只警告并继续执行整个php文件。</p><p>  include_once()</p><p>这个函数跟include函数作用几乎相同，只是他在导入函数之前先检测下改文件是否被导入。如果已经执行一遍那么就不重复执行了。</p><p>  require()</p><p>使用此函数，只要程序执行，立即调用此函数包含文件，发生错误时，会输出错误信息并立即终止程序。</p><p>  require_once()</p><p>功能和前者一样，区别在于当重复调用同一文件时，程序只调用一次。</p><p>先让我们大致的浏览的一下phpMyadmin网站的结构。既然说是文件包含，那么漏洞点必然在包含的位置那。大致浏览了一波，好像没有找到明显的?xxx=xx.php这种页面。那么直接上手源代码吧，提示漏洞出在index.php中。让我们依次去查找文件包含的关键字：</p><p>  include()</p><p>  <img src="https://b2.bmp.ovh/imgs/2019/07/c808e947e90f8b27.png" alt></p><p>  <img src="https://b2.bmp.ovh/imgs/2019/07/aa9ab63e7f9a8544.png" alt></p><p>  <img src="https://b2.bmp.ovh/imgs/2019/07/8320934fc9a999e3.png" alt></p><p>  <img src="https://b2.bmp.ovh/imgs/2019/07/0674ca60ee73dc17.png" alt><br>  搜索全文后发现只有这四个地方用到了包含include函数.</p><p>include_once()</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/07/de97f23630670e65.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>就只有一处</p><p>require</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/07/53d2315cd601428b.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>就只有这一处</p><p>Require_once</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/07/e54a00ac99cd2747.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>也只有这么一处。<br>因为我们需要被包含文件位置可变（目前非可控）。所以除去所有相对路径后只剩下include中的两处了。<br>分别是：</p><p><img src="https://b2.bmp.ovh/imgs/2019/07/2f5d9f00745ae085.png" alt>    <img src="https://b2.bmp.ovh/imgs/2019/07/58e737094b5b901c.png" alt></p><p>先让我们来分析下include $page的条件（哦吼，php学的烂看不懂。让我百度一波）</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/07/9ae651d090d9872c.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>$page中的数值会在函数中判断后由Utile类getScriptNameForOption函数返回值赋予。继续溯源到Util::getScriptNameForOption中去。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/el6bk9.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>查看Util.php源代码，定位到3064行——3110行。代码分别如下</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elcU74.png" alt title>                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elcgBD.png" alt title>                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elcogP.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>总的看了下它共有三个判断语句，如果传入的$location等于server、database、table中的一个。那么就进行swith($target)选择一个值return返回。由此可见，这个包含的地方不是漏洞点。<br>现在只剩下include $_REQUEST[‘target’];了。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elcqHg.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>首先对涉及到的函数进行百度（菜是原罪）</p><p>1.empty:若变量已存在、非空字符串或者非零，则返回false值，反之返回true。</p><p>2.is_string:检测变量是否是字符串，如果是字符串返回TURE，反则返回FALSE。</p><p>3.preg_match:用于执行一个正则表达式匹配</p><p>4.in_array:搜索数组中是否存在指定的值。</p><p>5.将target传去Core类的checkPageValidity进行判断。</p><p>如果以上五项都为True，则执行下面的include $_REQUEST[‘target’];</p><p>让我们依次来分析各项为True的条件。</p><p>empty()：要让后面的’target’存在或者是空字符串或者非零。这样empty返回0，和前面的！非一下就成了1.</p><p>is_string：target的数值要为字符串。</p><p>preg_match:如果target满足正则条件则返回1。target字符串的头不能为index，否则！1就返回0。</p><p>in_array:target中的值不能出现在$target_blacklist中。$target_blacklist中有’import.php’和’export.php’。只要’target’中的值不包含’import.php’和’export.php’就可以了</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elgibF.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>Core::checkPageValidity：将’target’的值传入core类的checkPageValidity函数中去进行判断。如果返回的数值为True，那么就为1。对Core::checkPageValidity进行溯源：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elU3NT.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>进入Core.php，定位checkPageValidity函数进行判断。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elU84U.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>大致查看下有哪些判断条件，共有五个判断语句。如下逐个分析：</p><p>在这个if中，因为我们没有给whitelist传送一个值过来，所以导致这里empty($whitelist)为True。转而执行下面的$whitelist = self::$goto_whitelist;在slfe::$goto_whitelist中存放着白名单。这里将白名单赋予给$whitelist变量。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/el2GeU.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>goto_whitelist白名单如下（部分）：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elUgvd.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>在这里变量page也就是传入的target要被定义过或是字符串，否则返回false。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elUI58.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>我们传入的变量如果是白名单里的一种，那么就返回true。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elaMxH.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>5.这里用到了mb_substr函数和mb_strpos函数。mb_substr的作用是返回字符串的一部分。mb_strpos这里是判断后面字符出现的位置。这里总的含义就是将变量page里出现在?号前面的数据截取后传入$_page。如下举例：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elaJdP.png" alt title>                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elaaRg.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p> 在这里我曾有一个zz的地方，知道mb_strpos函数的作用后不免思考：为什么要加上一个？号后再判断它位置来截断呢？毫无意思的操作，自己加然后截断自己的参数。从而导致我觉得.号作用不是拼接而有其他意思。后来如上图试验后才明白函数原来是从左往后去判断截断的。如果在用户输入有?的前提下将文件名和参数分开，没有?时也可以取出文件名。</p><p>但是在这里有一个问题，正如我们上面使用的语句：<br>db_sql.php?/../../../../../../etc/passwd。它虽然绕过了之前所有的过滤，但是在php中问号后面的是会被当作参数来执行的。那还是达不到包含文件的作用的！继续来看下面的参数！</p><p>5.在这里有一个很有趣的地方，那就是urldecode()。他的作用是将url编码解码一次，那么在这里就很有意思了！</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/ela0Mj.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>它将解码后的在拿去判断，这是无用的！因为php最后包含的是解码之前的代码！如下所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elaRWF.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>文件包含的是db_sql.php%3f/../../../../../../etc/passwd，可解码后判断的是db_sql.php?/../../../../../../etc/passwd这是不一样的。这这个if里我们顺利通过了关键字白名单判断且用正确格式包含了自己想要得到的数据。</p><p>综合上面所有的判定条件。我们要通过target参数传入一串字符串，字符串前面的文件名要在白名单中，且？要进行二次url编码（浏览器传送时会自动解码一次）。这样就可以绕过所有的过滤达到我们要的效果了。</p><p>如下所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elaTdx.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>因本人很菜，无法在默认配置下利用文件包含漏洞点去拿getshell。至此只写下如何查看phpinfo()。</p><p>一．通过数据库写入phpinfo()从而来包含。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elajQH.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>再来查看当前数据库位置</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/eld3pF.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>具体目录根据保存规则推算。在这里tt.frm得允许其他人可读。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/eldwtK.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>二．第二种方法就是网上常见得包含Php日志。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s2.ax1x.com/2019/07/28/elds6H.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>在这里不需要sess_sxxxx有读权限。因为文件本身的所有者就是apache。二第一种方法之所以要其他人读权限。是因为数据库本身的所有者是apache</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;  首先来说下文件包含是什么，粗俗的讲就是本网页包含其他源代码来执行。此处本意正如编程中的函数调用，重复的代码大可不写。合理调用利用重复代码才是王道。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JS事件初识</title>
    <link href="https://0xxk.github.io/2019/08/11/JS%E4%BA%8B%E4%BB%B6/"/>
    <id>https://0xxk.github.io/2019/08/11/JS事件/</id>
    <published>2019-08-11T14:49:49.758Z</published>
    <updated>2019-07-31T16:34:54.482Z</updated>
    
    <content type="html"><![CDATA[<p>  学习了JS后发现自己还有很多很多不会的东西。对于陌生的语言，从基础开始学习是非常有必要的。</p><a id="more"></a><pre><code>但对于快速的课程而言，就此只针对课上出现过的事件进行学习!</code></pre><h1 id="一-getElementById-方法"><a href="#一-getElementById-方法" class="headerlink" title="一.getElementById()方法"></a>一.getElementById()方法</h1><p>  getElementById()方法可返回拥有指定ID的第一个对象的引用。<br>  语法:</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(id)</span><br></pre></td></tr></table></figure><p>  举例：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line">function getValue()</span><br><span class="line">&#123;</span><br><span class="line">var x=document.getElementById("myHeader")</span><br><span class="line">alert(x.innerHTML)</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">"myHeader"</span> <span class="attr">onclick</span>=<span class="string">"getValue()"</span>&gt;</span>这是标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>点击标题，会提示出它的值。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/07/5af51c116a657284.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>可以看到代码里监听了”MyHeader”，当id为myHeafer的值被点击时，就触发后面的动作，也就是alert(x.innerHTML)，当我们点击时就触发了。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/08/40bb47b4aa5c37d2.png" alt title>                </div>                <div class="image-caption"></div>            </figure><h1 id="二-getElementById"><a href="#二-getElementById" class="headerlink" title="二.getElementById"></a>二.getElementById</h1><p>是引用他人再做出动作，但是下面的方法就有些不一样了。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span>单击按钮创建一个标题<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">function myFunction()&#123;</span><br><span class="line">    var h=document.createElement("H1");</span><br><span class="line">    var t=document.createTextNode("Hello World");</span><br><span class="line">    h.appendChild(t);</span><br><span class="line">    document.body.appendChild(h);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在上面的代码里用到了</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.getElementByid("myBtn").addEventListener("click",function()</span><br><span class="line">&#123;</span><br><span class="line">document.getElementByld("demo").innerHTML = "Hello World";</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure><p>这里的<u>document.getElementByid(“myBtn”).addEventListerner</u> 就不是引用id=myBtn的意思了。作用点在后面的addEventListerner，后面方法的作用是监听前面的id，当点击时满足条件从而去运行下面的函数。在这里有一个新的方法<u>innerHTML</u>。</p><p>innerHTML属性设置或返回表格行的开始和结束标签之间的HTML代码。 在这里的意思就是往前面id为demo的标签中间返回后面的“Hello World”代码。 这里代码的意思就是，当myBtn被点击时，则在demo标签的位置显示Hello World。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/08/538f3ec9b31c35dc.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>同理这里的”click”也可以改为”mousemove”，当移动到这个标签上时触发规则输出Hello World。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/08/2a3da6a042fcdc1c.png" alt title>                </div>                <div class="image-caption"></div>            </figure><h1 id="三-onclick事件"><a href="#三-onclick事件" class="headerlink" title="三.onclick事件"></a>三.onclick事件</h1><p>在这里出现了新的句子。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">function myFunction()&#123;</span><br><span class="line">    document.getElementById("demo").innerHTML="Hello World";</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>单击按钮触发函数。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在这里出现了一个</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p><button>是一个按钮标签。</button></p><p>一般来说这里我们都是些一个id去指定这个按钮。但是这里没有，当我们点击按钮后，这里直接通过onclick事件跳转了。他跳到了onclick=”myFunction()”后面的myFunction()函数处。</p><p>在函数中出现了另一个事件。通过引用”demo”这个标签，在ta的html范围内输出“Hello World”。从而这段代码的意思就是当我们点击按钮后在demo的代码范围内输出Hello World。</p><h1 id="四-创建节点"><a href="#四-创建节点" class="headerlink" title="四.创建节点"></a>四.创建节点</h1><p>下面的js代码是单击按钮将项目添加到列表中。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"myList"</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>Coffee<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>Tea<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span>单击按钮将项目添加到列表中<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">function myFunction()&#123;</span><br><span class="line">    var node=document.createElement("LI");</span><br><span class="line">    var textnode=document.createTextNode("Water");</span><br><span class="line">    node.appendChild(textnode);</span><br><span class="line">    document.getElementById("myList").appendChild(node);</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>注意:<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>首先创建一个节点，<span class="tag">&lt;<span class="name">br</span>&gt;</span> 然后创建一个文本节点，<span class="tag">&lt;<span class="name">br</span>&gt;</span>然后将文本节点添加到LI节点上。<span class="tag">&lt;<span class="name">br</span>&gt;</span>最后将节点添加到列表中。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>每点击一次“点我”，就在列表中增加一个值。</p><p> <img src="https://b2.bmp.ovh/imgs/2019/08/02b7bcaccb7f404e.png" alt></p><p>上面的代码执行顺序如下：        </p><p>首先创建一个Li节点，然后创建一个文本节点，然后将文本节点增加到LI节点上。最后将节点增加到列表中。        </p><p>createElement就是创建一个节点，createTextNode就是创建一个文本节点，appendChild就是将textnode（创建文本节点）加入到node(创建的节点)中去。       </p><p>最后引用”myList” id，appendChild(node)将node(节点和文本节点的结合体)加入到<ul>标签中去。</ul></p><h1 id="五-createElement-AND-createTextNode"><a href="#五-createElement-AND-createTextNode" class="headerlink" title="五.createElement AND createTextNode"></a>五.createElement AND createTextNode</h1><p>继上一个onclick事件之后扩展出另外一个程序。如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span>单击按钮创建一个标题<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"myFunction()"</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">function myFunction()&#123;</span><br><span class="line">    var h=document.createElement("H1");</span><br><span class="line">    var t=document.createTextNode("Hello World");</span><br><span class="line">    h.appendChild(t);</span><br><span class="line">    document.body.appendChild(h);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这里出现了新的事件createElement()，createTextNode()。    </p><p>createrElement()的作用是创建一个”H1”节点（字体大小），然后createTextNode(“Hello World”)创建一个对象。h.appendChild(t)将t”Hello World”加入加入“H1”中(字体也会相应的变最大)。最后将h对象加入body的最后面。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://b2.bmp.ovh/imgs/2019/08/e064d6cc8b8e8685.png" alt title>                </div>                <div class="image-caption"></div>            </figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;  学习了JS后发现自己还有很多很多不会的东西。对于陌生的语言，从基础开始学习是非常有必要的。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>PHP代码练习</title>
    <link href="https://0xxk.github.io/2019/08/07/PHP%E4%BB%A3%E7%A0%81%E7%BB%83%E4%B9%A0/"/>
    <id>https://0xxk.github.io/2019/08/07/PHP代码练习/</id>
    <published>2019-08-07T09:06:28.000Z</published>
    <updated>2019-08-08T00:53:22.603Z</updated>
    
    <content type="html"><![CDATA[<h1 id="素数查找"><a href="#素数查找" class="headerlink" title="素数查找"></a>素数查找</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 素数:只能被1和自身整除</span><br><span class="line">for($i=1;$i&lt;100;$i++)</span><br><span class="line">&#123;</span><br><span class="line">    for($j=1;$j&lt;$i;$j++)</span><br><span class="line">    &#123;</span><br><span class="line">        if(($i%$j)==0)</span><br><span class="line">        &#123;</span><br><span class="line">            $i++;</span><br><span class="line">            continue; //不是继续查找</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    echo $i.&quot;\n&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="三元排大小"><a href="#三元排大小" class="headerlink" title="三元排大小"></a>三元排大小</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">($a==$b&amp;&amp;$b==$c)?(</span><br><span class="line">    print &quot;$a=$b=$c&quot;</span><br><span class="line">):(</span><br><span class="line">    ($a==$b)?(</span><br><span class="line">        ($a&gt;$c)?(</span><br><span class="line">            print &quot;$a=$b&gt;$c&quot;</span><br><span class="line">        ):(</span><br><span class="line">            print &quot;$c&gt;$a=$b&quot;</span><br><span class="line">        )</span><br><span class="line">    ):(</span><br><span class="line">        ($a==$c)?(</span><br><span class="line">            ($a&gt;$b)?(</span><br><span class="line">                print &quot;$a=$c&gt;$b&quot;</span><br><span class="line">            ):(</span><br><span class="line">                print &quot;$b&gt;$a=$c&quot;</span><br><span class="line">            )</span><br><span class="line">        ):(</span><br><span class="line">        ($b==$c)?(</span><br><span class="line">            ($a&gt;$b)?(</span><br><span class="line">                print &quot;$a&gt;$b=$c&quot;</span><br><span class="line">            ):(</span><br><span class="line">                print &quot;$b=$c&gt;$a&quot;</span><br><span class="line">            )</span><br><span class="line">            ):(</span><br><span class="line">                ($a&gt;$b)? (($a&gt;$c)? (($c&gt;$b)? (print &quot;$a&gt;$c&gt;$b&quot;):(print &quot;$a&gt;$b&gt;$c&quot;)):(print &quot;$c&gt;$a&gt;$b&quot;)):(($b&gt;$c)? (($a&gt;$c)? (print &quot;$b&gt;$a&gt;$c&quot;):(print &quot;$b&gt;$c&gt;$a&quot;)):(print &quot;$c&gt;$b&gt;$a&quot;))</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h1 id="五角星"><a href="#五角星" class="headerlink" title="五角星"></a>五角星</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">for($i1=1;$i1&lt;7;$i1++)             /*这是五角星的上面一个角*/</span><br><span class="line">      &#123;</span><br><span class="line">          for($j1=1;$j1&lt;19-$i1;$j1++)     /*这是空格*/</span><br><span class="line">              printf(&quot; &quot;);</span><br><span class="line">          for($k1=1;$k1&lt;=2*$i1-1;$k1++)   /*这是“*”*/</span><br><span class="line">              printf(&quot;*&quot;);</span><br><span class="line">          printf(&quot;\n&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      for($i2=1;$i2&lt;5;$i2++)     /*这是五角星的中间两个角*/</span><br><span class="line">      &#123;</span><br><span class="line">          for($j2=1;$j2&lt;3*$i2-3;$j2++)</span><br><span class="line">              printf(&quot; &quot;);</span><br><span class="line">          for($k2=1;$k2&lt;=42-6*$i2;$k2++)</span><br><span class="line">              printf(&quot;*&quot;);</span><br><span class="line">          printf(&quot;\n&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      for($i3=1;$i3&lt;3;$i3++)        //这是中间与下部相接的部分</span><br><span class="line">      &#123;</span><br><span class="line">          for($j3=1;$j3&lt;12-$i3;$j3++)</span><br><span class="line">              printf(&quot; &quot;);</span><br><span class="line">          for($k3=1;$k3&lt;=12+2*$i3;$k3++)</span><br><span class="line">              printf(&quot;*&quot;);</span><br><span class="line">          printf(&quot;\n&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">              for($i4=1;$i4&lt;5;$i4++)         // 这是五角星的下面两个角</span><br><span class="line">              &#123;</span><br><span class="line">                  for($j4=1;$j4&lt;10-$i4;$j4++)</span><br><span class="line">                      printf(&quot; &quot;);</span><br><span class="line">                  for($k4=1;$k4&lt;=10-2*$i4;$k4++)</span><br><span class="line">                      printf(&quot;*&quot;);</span><br><span class="line">                  for($m4=1;$m4&lt;6*$i4-3;$m4++)</span><br><span class="line">                      printf(&quot; &quot;);</span><br><span class="line">                  for($n4=1;$n4&lt;=10-2*$i4;$n4++)</span><br><span class="line">                      printf(&quot;*&quot;);</span><br><span class="line">                  printf(&quot;\n&quot;);</span><br><span class="line">              &#125;</span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/PHP代码练习/20190807055324467.png" alt title>                </div>                <div class="image-caption"></div>            </figure><h1 id="for循环实现关联数组的遍历"><a href="#for循环实现关联数组的遍历" class="headerlink" title="for循环实现关联数组的遍历"></a>for循环实现关联数组的遍历</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$arr=[&apos;q&apos;=&gt;&apos;12&apos;,&apos;w&apos;=&gt;&apos;13&apos;,&apos;e&apos;=&gt;&apos;14&apos;,&apos;r&apos;=&gt;&quot;15&quot;];</span><br><span class="line">$num=count($arr);</span><br><span class="line">for($i=0;$i&lt;$num;$i++)</span><br><span class="line">&#123;</span><br><span class="line">    echo key($arr).&quot;=&gt;&quot;.current($arr).&quot;\n&quot;;</span><br><span class="line">    next($arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="通过文件读写对HTML表格的操作"><a href="#通过文件读写对HTML表格的操作" class="headerlink" title="通过文件读写对HTML表格的操作"></a>通过文件读写对HTML表格的操作</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;  &gt;</span><br><span class="line">    &lt;title&gt;news&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body background=&quot;img/2.jpg&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;table border=&quot;1&quot; width=&quot;100%&quot; cellspacing=&quot;10&quot; cellpadding=&quot;10&quot; align=&quot;center &quot; bgcolor=&quot;#6495ed&quot;&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;th id=&quot;pm&quot;&gt;排名&lt;/th&gt;</span><br><span class="line">            &lt;th id=&quot;mz&quot;&gt;名字&lt;/th&gt;</span><br><span class="line">            &lt;th id=&quot;jj&quot;  bgcolor=&quot;#a52a2a&quot;&gt;简介&lt;/th&gt;</span><br><span class="line">            &lt;th id=&quot;ss&quot;&gt;搜索指数&lt;/th&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;?php</span><br><span class="line">            // 打开数据文件</span><br><span class="line">            $file=fopen(&quot;/Project/PHP/news/data/new.db&quot;,&quot;r&quot;);</span><br><span class="line"></span><br><span class="line">            if($file==null)</span><br><span class="line">            &#123;</span><br><span class="line">                echo &quot;文件打开失败&quot;;</span><br><span class="line">                die();</span><br><span class="line">            &#125;</span><br><span class="line">            $str=fgets($file);  // 去掉表格标题</span><br><span class="line">            $i=0;</span><br><span class="line">            while(!feof($file))</span><br><span class="line">            &#123;</span><br><span class="line">                $str=fgets($file);</span><br><span class="line">                $data=explode(&apos;||&apos;,$str);// 获取字符串按 || 分割成数组</span><br><span class="line">                if($i&lt;3)</span><br><span class="line">                &#123;</span><br><span class="line">                    // 前三行调用图片和简介</span><br><span class="line"></span><br><span class="line">                    table_qiansan($data);</span><br><span class="line">                &#125;</span><br><span class="line">                else&#123;</span><br><span class="line"></span><br><span class="line">                    table_fun($data);// 调用自定义函数</span><br><span class="line">                &#125;</span><br><span class="line">                $i++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fclose($file);</span><br><span class="line">        ?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/table&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">// 三行前的信息读取</span><br><span class="line">// 分别显示 id 图片 简介</span><br><span class="line">function table_qiansan($data)</span><br><span class="line">&#123;</span><br><span class="line">    $data[2]=substr( $data[2],0,200);</span><br><span class="line">    echo &lt;&lt;&lt;EOF</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;$data[0]&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;img src=&quot;img/1.jpg&quot;&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td colspan=&quot;2&quot;&gt;$data[2]&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">EOF;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 三行后的信息</span><br><span class="line">function table_fun($data)</span><br><span class="line">&#123;</span><br><span class="line">  echo &lt;&lt;&lt;EOF</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;td&gt;$data[0]&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;$data[1]&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;$data[2]&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;$data[3]&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;;</span><br><span class="line">EOF;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>效果图</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/PHP代码练习/20190807083753363.png" alt title>                </div>                <div class="image-caption"></div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;素数查找&quot;&gt;&lt;a href=&quot;#素数查找&quot; class=&quot;headerlink&quot; title=&quot;素数查找&quot;&gt;&lt;/a&gt;素数查找&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
      
    
    </summary>
    
    
  </entry>
  
</feed>
